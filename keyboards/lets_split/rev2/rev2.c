#include "lets_split.h"

#ifdef RGB_MATRIX_ENABLE
// IS31FL3731 RGB filled matrix, dual board for a total of 72 RGB LEDs
const is31_led g_is31_leds[DRIVER_LED_TOTAL] = {
///* Refer to IS31 manual for these locations
// *   driver
// *   |  R location
// *   |  |      G location
// *   |  |      |      B location
// *   |  |      |      | */

    {0, C7_6,   C8_6,   C9_6},
    {0, C7_5,   C8_5,   C9_5},
    {0, C7_4,   C8_4,   C9_4},
    {0, C7_3,   C8_3,   C9_3},
    {0, C7_2,   C8_2,   C9_2},
    {0, C7_1,   C8_1,   C9_1},

    {0, C4_8,   C5_8,   C6_8},
    {0, C4_7,   C5_7,   C6_7},
    {0, C4_6,   C5_6,   C6_6},

    {0, C1_8,   C2_8,   C3_8},
    {0, C1_7,   C2_7,   C3_7},
    {0, C1_6,   C2_6,   C3_6},
    {0, C1_5,   C2_5,   C3_5},
    {0, C1_4,   C2_4,   C3_4},
    {0, C1_3,   C2_3,   C3_3},

    {0, C4_1,   C5_1,   C6_1},
    {0, C4_2,   C5_2,   C6_2},
    {0, C4_3,   C5_3,   C6_3},


    {0, C7_14,  C8_14,  C9_14},
    {0, C7_13,  C8_13,  C9_13},
    {0, C7_12,  C8_12,  C9_12},
    {0, C7_11,  C8_11,  C9_11},
    {0, C7_10,  C8_10,  C9_10},
    {0, C7_9,   C8_9,   C9_9},

    {0, C4_9,   C5_9,   C6_9},
    {0, C4_10,  C5_10,  C6_10},
    {0, C4_11,  C5_11,  C6_11},

    {0, C1_16,  C2_16,  C3_16},
    {0, C1_15,  C2_15,  C3_15},
    {0, C1_14,  C2_14,  C3_14},
    {0, C1_13,  C2_13,  C3_13},
    {0, C1_12,  C2_12,  C3_12},
    {0, C1_11,  C2_11,  C3_11},

    {0, C4_16,  C5_16,  C6_16},
    {0, C4_15,  C5_15,  C6_15},
    {0, C4_14,  C5_14,  C6_14},



    {1, C1_3,   C2_3,   C3_3},
    {1, C1_4,   C2_4,   C3_4},
    {1, C1_5,   C2_5,   C3_5},
    {1, C1_6,   C2_6,   C3_6},
    {1, C1_7,   C2_7,   C3_7},
    {1, C1_8,   C2_8,   C3_8},

    {1, C4_1,   C5_1,   C6_1},
    {1, C4_2,   C5_2,   C6_2},
    {1, C4_3,   C5_3,   C6_3},

    {1, C4_6,   C5_6,   C6_6},
    {1, C4_7,   C5_7,   C6_7},
    {1, C4_8,   C5_8,   C6_8},

    {1, C7_1,   C8_1,   C9_1},
    {1, C7_2,   C8_2,   C9_2},
    {1, C7_3,   C8_3,   C9_3},
    {1, C7_4,   C8_4,   C9_4},
    {1, C7_5,   C8_5,   C9_5},
    {1, C7_6,   C8_6,   C9_6},


    {1, C1_11,  C2_11,  C3_11},
    {1, C1_12,  C2_12,  C3_12},
    {1, C1_13,  C2_13,  C3_13},
    {1, C1_14,  C2_14,  C3_14},
    {1, C1_15,  C2_15,  C3_15},
    {1, C1_16,  C2_16,  C3_16},

    {1, C4_9,   C5_9,   C6_9},
    {1, C4_10,  C5_10,  C6_10},
    {1, C4_11,  C5_11,  C6_11},

    {1, C4_14,  C5_14,  C6_14},
    {1, C4_15,  C5_15,  C6_15},
    {1, C4_16,  C5_16,  C6_16},

    {1, C7_9,   C8_9,   C9_9},
    {1, C7_10,  C8_10,  C9_10},
    {1, C7_11,  C8_11,  C9_11},
    {1, C7_12,  C8_12,  C9_12},
    {1, C7_13,  C8_13,  C9_13},
    {1, C7_14,  C8_14,  C9_14},
};

led_config_t g_led_config = {

    /*{row | col << 4}
      |             {x=0..224, y=0..64}
      |              |                 modifier
      |              |                 | */
    {
        {  0,  1,  2,  3,  4,  5 },
        {  9, 10, 11, 12, 13, 14 },
        { 18, 19, 20, 21, 22, 23 },
        { 27, 28, 29, 30, 31, 32 },
        //{ NO_LED, NO_LED, NO_LED, NO_LED, NO_LED,  NO_LED },
        //{ NO_LED, NO_LED, NO_LED, NO_LED, NO_LED,  NO_LED },
        //{ NO_LED, NO_LED, NO_LED, NO_LED, NO_LED,  NO_LED },
        //{ NO_LED, NO_LED, NO_LED, NO_LED, NO_LED,  NO_LED },

        {  6,  7,  8, NO_LED, NO_LED,  NO_LED },
        { 15, 16, 17, NO_LED, NO_LED,  NO_LED },
        { 24, 25, 26, NO_LED, NO_LED,  NO_LED },
        { 33, 34, 35, NO_LED, NO_LED,  NO_LED },

        //{37, 38, 39, 40, 41, 42},{ 43, 44, 45, 46, 47, 48},
        //{49, 50, 75, 52, 53, 54},{ 55, 56, 57, 58, 59, 60},
        //{61, 62, 63, 64, 65, 66},{ 67, 68, 69, 70, 71, 72}
    },{

        {28*0, 21.33*0}, {28*1, 21.33*0}, {28*2, 21.33*0}, {28*3, 21.33*0}, {28*4, 21.33*0}, {28*5, 21.33*0}, {28*6, 21.33*0}, {28*7, 21.33*0}, {28*8, 21.33*0},
        {28*0, 21.33*1}, {28*1, 21.33*1}, {28*2, 21.33*1}, {28*3, 21.33*1}, {28*4, 21.33*1}, {28*5, 21.33*1}, {28*6, 21.33*1}, {28*7, 21.33*1}, {28*8, 21.33*1},
        {28*0, 21.33*2}, {28*1, 21.33*2}, {28*2, 21.33*2}, {28*3, 21.33*2}, {28*4, 21.33*2}, {28*5, 21.33*2}, {28*6, 21.33*2}, {28*7, 21.33*2}, {28*8, 21.33*2},
        {28*0, 21.33*3}, {28*1, 21.33*3}, {28*2, 21.33*3}, {28*3, 21.33*3}, {28*4, 21.33*3}, {28*5, 21.33*3}, {28*6, 21.33*3}, {28*7, 21.33*3}, {28*8, 21.33*3},

        //{20.36*0, 21.33*0}, {20.36*1, 21.33*0}, {20.36*2, 21.33*0}, {20.36*3, 21.33*1}, {20.36*4, 21.33*1}, {20.36*5, 21.33*1}, {20.36*0, 21.33*0}, {20.36*1, 21.33*0}, {20.36*2, 21.33*0},
        //{20.36*3, 21.33*1}, {20.36*4, 21.33*1}, {20.36*5, 21.33*1}, {20.36*0, 21.33*0}, {20.36*1, 21.33*0}, {20.36*2, 21.33*0}, {20.36*3, 21.33*1}, {20.36*4, 21.33*1}, {20.36*5, 21.33*1},
        //{20.36*0, 21.33*0}, {20.36*1, 21.33*0}, {20.36*2, 21.33*0}, {20.36*3, 21.33*1}, {20.36*4, 21.33*1}, {20.36*5, 21.33*1}, {20.36*0, 21.33*0}, {20.36*1, 21.33*0}, {20.36*2, 21.33*0},
        //{20.36*3, 21.33*1}, {20.36*4, 21.33*1}, {20.36*5, 21.33*1}, {20.36*0, 21.33*0}, {20.36*1, 21.33*0}, {20.36*2, 21.33*0}, {20.36*3, 21.33*1}, {20.36*4, 21.33*1}, {20.36*5, 21.33*1}
    },{
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,

        //4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        //4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        //4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4
    }
};

#endif

#ifdef SSD1306OLED
void led_set_kb(uint8_t usb_led) {
    // put your keyboard LED indicator (ex: Caps Lock LED) toggling code here
    led_set_user(usb_led);
}
#endif

void matrix_init_kb(void) {

    // // green led on
    // DDRD |= (1<<5);
    // PORTD &= ~(1<<5);

    // // orange led on
    // DDRB |= (1<<0);
    // PORTB &= ~(1<<0);

	matrix_init_user();
};

